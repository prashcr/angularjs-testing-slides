doctype html
html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')
    title AngularJS Testing

    link(rel='stylesheet', type='text/css', href='build/build.css')

  body

    article

      section(data-bespoke-backdrop='emphatic')
        h1 AngularJS Testing

      section(data-bespoke-backdrop='emphatic')
        h2 Why should I test?
        h3.bullet
        ul
          li Reliability
          li Maintainability
          li Collaboration

      section(data-bespoke-backdrop='emphatic')
        h2 What is Test Driven Development (TDD)?
        h3
        img(src='https://lh5.googleusercontent.com/-2avOSLXBtRo/VVF97CVqKlI/AAAAAAAABcc/wYjDPRC0CFk/w638-h86-no/Untitled%2Bdrawing.png')

      section(data-bespoke-backdrop='emphatic')
        h2 Tools
        h3.bullet
        ul
          li
            <a href="http://jasmine.github.io/" target="_blank">Jasmine</a>, for describing tests
          li
            <a href="http://karma-runner.github.io/0.13/index.html" target="_blank">Karma</a>, for unit tests
          li
            <a href="http://www.protractortest.org/" target="_blank">Protractor</a>, for end-to-end tests
          li
            <a href="https://www.npmjs.com/" target="_blank">npm</a>, Node.js package manager

      section(data-bespoke-backdrop='emphatic')
        img(src='https://rocketeer.be/wp-content/uploads/2014/03/ngmeetup-testing.014.jpg', width='85%')
        a(href='http://stackoverflow.com/a/5357837/4131237', target='_blank') Brief summary

      section(data-bespoke-backdrop='emphatic')
        h2 Jasmine
        pre
          code.language-javascript.
            function helloworld() {return 'Hello world!'}
            describe('Hello world', function() { // suite
              it('says hello', function() { // spec
                expect(helloworld()).toBe('Hello world!');
              });
            });

      section(data-bespoke-backdrop='emphatic')
        h2 Jasmine
        h3.bullet Try it out
        ul
          li Download latest standalone: <a href="https://github.com/jasmine/jasmine/releases" target="_blank">https://github.com/jasmine/jasmine/releases</a>
          li <code>rm spec/* src/*</code> <small>delete the contents of the two folders</small>
          li Put your own files in there, and include them in <code>SpecRunner.html</code> as indicated.
          li Reference: <a href="http://jasmine.github.io/2.3/introduction.html" target="_blank">http://jasmine.github.io/2.3/introduction.html</a>
          li <small><strong>Optional</strong></small> 1 hour course on Jasmine: <a href="https://www.udacity.com/course/javascript-testing--ud549" target="_blank">https://www.udacity.com/course/javascript-testing--ud549</a>

      section(data-bespoke-backdrop='emphatic')
        h2 Controller Testing
        pre
          code.language-javascript.
            angular.module('app', [])
            .controller('PasswordController', function PasswordController($scope) {
              $scope.password = '';
              $scope.grade = function() {
                var size = $scope.password.length;
                if (size > 8) {
                  $scope.strength = 'strong';
                } else if (size > 3) {
                  $scope.strength = 'medium';
                } else {
                  $scope.strength = 'weak';
                }
              };
            });

      section(data-bespoke-backdrop='emphatic')
        h2 Controller Testing
        pre
          code.language-javascript.
            describe('PasswordController', function() {
              beforeEach(module('app'));

              var $controller;

              beforeEach(inject(function(_$controller_){
                // The injector unwraps the underscores (_)
                // from around the parameter names when matching
                $controller = _$controller_;
              }));

              describe('$scope.grade', function() {
                var $scope, controller;

                beforeEach(function() {
                  $scope = {};
                  controller = $controller('PasswordController', {$scope: $scope});
                })

                it('sets the strength to "strong" ' +
                'if the password length is >8 chars', function() {
                  $scope.password = 'longerthaneightchars';
                  $scope.grade();
                  expect($scope.strength).toEqual('strong');
                });
                it('sets the strength to "weak" ' +
                'if the password length <3 chars', function() {
                  $scope.password = 'a';
                  $scope.grade();
                  expect($scope.strength).toEqual('weak');
                });
              });
            });

      section(data-bespoke-backdrop='emphatic')
        h2 Filter Testing
        pre
          code.language-javascript.
            Coming soon.

      section(data-bespoke-backdrop='emphatic')
        h2 Karma
        h3
        img(src='https://scriptcat.files.wordpress.com/2012/01/frankly-seems-everything-workplace-ecard-someecards.jpg')

      section(data-bespoke-backdrop='emphatic')
        h2 Karma
        pre
          code.language-bash.
            echo {} > package.json
            npm install -g karma-cli
            npm install --save-dev karma karma-jasmine karma-chrome-launcher

    script(src='build/build.js')